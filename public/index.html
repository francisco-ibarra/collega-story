<!DOCTYPE html>
<html>

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-touch-fullscreen" content="yes">
  
  <link rel="stylesheet" href="css/swiper.min.css">
  <link rel="stylesheet" href="css/ratchet.min.css" >
  <script src="js/ratchet.min.js"></script>
  
  <link rel="stylesheet" href="css/style.css">
</head>

<body>
  <div id="app"> 
    <router-view></router-view>
  </div>
   

  <script id="experiment-start" type="text/x-template"> 
    <div class="content"> 
      <header class="bar bar-nav">
        <h1 class="title">Storygram</h1>
      </header>
      <div class="content"> 
        <!-- CARD.BEGIN -->
        <div class="card">
          <div class="content-padded">
            <form class="home">
              <p> Insert a public instagram account</p>
              <input type="text" v-model="username" placeholder="Instagram username">

              <button class="btn btn-primary btn-outlined btn-block" v-on:click="startSession">Start session</button>        
            </form>
          </div>
        </div>
        <!-- CARD.END -->
      </div>
    </div>
  </script>
  
  <!-- TODO: move to vue files -->
  <script id="photo-slide" type="text/x-template">

      <div class="slideshow swiper-container">
        <div class="swiper-wrapper">
          <div class="swiper-slide" v-for="post in posts" v-on:click="toggleControls">
            <img v-bind:src="post.images.standard_resolution.url">
          </div>
        </div>

        <ul class="photo-controls">
          <template v-if="sessionEnd">
            <li v-if="" v-on:click="submitData">
              <a><span class="icon icon-share"></span> Submit data </a>
            </li>
          </template>
          <template v-else>
            <li v-on:click="toggleControls">
              <a><span class="icon icon-compose"></span> Add picture data </a>
            </li>
          </template>
        </ul>

        <div class="tagControls photo-cards modal" v-bind:class="{active : showControls}">
            
            <!-- slider begin -->
            <div class="swiper-wrapper">
              <div class="swiper-slide">
                <div class="card" v-on:click="activateCard">
                    <div class="content-padded">
                      <!-- summary shown only when not active -->
                      <div class="summary">
                        <h2>Where was this photo taken?</h2>
                        <p>{{whereNotes}}</p>
                      </div>
                      <!-- form shown only when active -->
                      <form>                        
                        <h2>Where was this photo taken?</h2>
                        <textarea id="where-notes" v-model="whereNotes" rows="5" placeholder="e.g., Trento, Italy"></textarea>
                        <button class="btn btn-block" v-on:click.stop="nextCard" v-on:click="whereUnknown" >Does not remember</button>
                        <button class="btn btn-primary btn-block" v-on:click.stop="nextCard" v-on:click="whereSave">Save</button>
                      </form>
                    </div>
                </div>
              </div>
              <div class="swiper-slide">
                <div class="card" v-on:click="activateCard">
                    <div class="content-padded">                      
                      <div class="summary">
                        <h2>When was this photo taken?</h2>
                        <p>{{whenNotes}}</p>
                      </div>                      
                      <form>  
                        <h2>When was this photo taken?</h2>      
                        <textarea id="when-notes"  v-model="whenNotes" rows="5" placeholder="Insert exact or approximate date"></textarea>
                        <button class="btn btn-block" v-on:click.stop="nextCard" v-on:click="whenUnknown">Does not remember</button>
                        <button class="btn btn-primary btn-block" v-on:click.stop="nextCard" v-on:click="whenSave">Save</button>
                      </form>
                    </div>
                </div> 
              </div>  
              <div class="swiper-slide">
                <div class="card" v-on:click="activateCard">
                    <div class="content-padded">
                      <div class="summary">
                        <h2>Who's in the photo?</h2>
                        <p>{{whoNotes}}</p>
                      </div>
                      <form>
                        <h2>Who's in the photo?</h2>                       
                        <textarea id="who-notes" v-model="whoNotes" rows="5" placeholder="e.g., Mario Rossi, Chiara Bianchi"></textarea>
                        <button class="btn btn-block" v-on:click.stop="nextCard" v-on:click="whoUnknown">Does not remember</button>
                        <button class="btn btn-primary btn-block" v-on:click.stop="nextCard" v-on:click="whoSave">Save</button>
                      </form>
                    </div>
                </div>
              </div>
              <div class="swiper-slide">
                <div class="card" v-on:click="activateCard">
                  <div class="content-padded">
                    <div class="summary">
                      <h2>What is the picture's story?</h2>
                      <p>{{story}}</p>
                    </div>
                    <form>
                      <h2>What is the picture's story?</h2>
                      <textarea id="story-notes" v-model="story" rows="8" placeholder="Tell us a story"></textarea>
                      <button class="btn btn-primary btn-block" v-on:click.stop="nextCard" v-on:click="storySave">Save</button>
                    </form>
                  </div>
                </div>
              </div>
            </div>  
            <!-- slider end -->      
        </div>

      </div>
  </script>
  
<script src="js/swiper.min.js"></script>  
<script src="js/axios.min.js"></script>
<script src="js/vue.min.js"></script>
<script src="js/vue-router.min.js"></script>

<script src="js/bundle.js"></script>

</body>

</html>
