<!DOCTYPE html>
<html>

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-touch-fullscreen" content="yes">
  
  <link rel="stylesheet" href="/css/swiper.min.css">
  <link href="css/ratchet.min.css" rel="stylesheet">
  <script src="js/ratchet.min.js"></script>  
  
  <link rel="stylesheet" href="css/style.css">
</head>

<body>
  <div id="app"> 
    <transition name="slide-fade">
    <router-view v-bind:session="session"></router-view>
    </transition>
  </div>
   

  <script id="page-home" type="text/x-template"> 
    <div class="content"> 
      <header class="bar bar-nav">
        <h1 class="title">Storygram</h1>
        <button v-on:click="goTo('logout')" class="btn btn-link btn-nav pull-right">
          Logout
        </button>        
        
      </header>
      <div class="content"> 
        <!-- CARD.BEGIN -->
        <div class="card">
          <div class="content-padded">
            <!--form class="home"-->
              <h1>{{profile.id}}</h1>

              <button class="btn btn-primary btn-outlined btn-block" v-on:click="goTo('photos')">Photos</button>      
              <button class="btn btn-primary btn-outlined btn-block" v-on:click="goTo('stories')">Stories</button>  
              <button disabled class="btn btn-outlined btn-block">
              Social</button>
              <button disabled class="btn btn-outlined btn-block">
              Discover</button>
   
            <!--/form-->
          </div>
        </div>
        <!-- CARD.END -->
      </div>
    </div>
  </script>
  
  <script id="page-login" type="text/x-template">
      <div class="content"> 
        <header class="bar bar-nav">
          <h1 class="title">Storygram</h1>
        </header>
        <div class="content"> 
          <!-- CARD.BEGIN -->
          <div class="card">
            <div class="content-padded">
              <form class="home">
                <p> Login</p>
                <input type="text" v-model="username" placeholder="Instagram username">
                <input type="password" v-model="password" placeholder="Fake password, doens't matter">

                <button class="btn btn-primary btn-outlined btn-block" v-on:click.prevent="login">Sign in</button>       

              </form>
            </div>
          </div>
          <!-- CARD.END -->
        </div>
      </div>    
  </script>
  
  <!-- TODO: move to vue files -->
  <script id="photo-slide" type="text/x-template">
     
      <div class="slider" id="photoSlider">
        <div class="slide-group">
          
          <div class="slide" v-for="post in posts" v-on:click="toggleControls">
            <img v-bind:src="post.images.standard_resolution.url">
          </div>
          
        </div>
        <ul class="photo-controls">
          <li><a href=""><span class="icon icon-person"></span> </li>
           <li><a href=""><span class="icon icon-edit"></span></li> 
        </ul>
        
        <div class="photo-cards modal" v-bind:class="{active : showControls}">
            
            <!-- slider begin -->
            <div class="swiper-wrapper">
              <div class="swiper-slide">
                <div class="card" v-on:click="activateCard">
                    <div class="content-padded">
                      <!-- summary shown only when not active -->
                      <div class="summary">
                        <h2>Where was this photo taken?</h2>
                      </div>
                      <!-- form shown only when active -->
                      <form>                        
                        <h2>Where was this photo taken?</h2>
                        <textarea rows="5" placeholder="e.g., Trento, Italy"></textarea>
                        <button class="btn btn-block">Does not remember</button>
                         <button v-on:click.stop="nextCard" class="btn btn-primary btn-block">Save</button
                      </form>
                    </div>
                </div>
              </div>
              <div class="swiper-slide">
                <div class="card" v-on:click="activateCard">
                    <div class="content-padded">                      
                      <div class="summary">
                        <h2>When was this photo taken?</h2>
                      </div>                      
                      <form>  
                        <h2>When was this photo taken?</h2>      
                        <textarea rows="5" placeholder="Insert exact or approximate date"></textarea>
                        <button class="btn btn-block">Does not remember</button>
                         <button v-on:click.stop="nextCard" class="btn btn-primary btn-block">Save</button
                      </form>
                    </div>
                </div> 
              </div>  
              <div class="swiper-slide">
                <div class="card" v-on:click="activateCard">
                    <div class="content-padded">
                      <div class="summary">
                        <h2>Who's in the photo?</h2>
                      </div>
                      <form>
                        <h2>Who's in the photo?</h2>                       
                        <textarea rows="5" placeholder="e.g., Trento, Italy"></textarea>
                        <button class="btn btn-block">Does not remember</button>
                         <button v-on:click.stop="nextCard" class="btn btn-primary btn-block">Save</button
                      </form>
                    </div>
                </div>
              </div>
            </div>  
            <!-- slider end -->      
        </div>
        
        
      </div>  
   
  </script>
  
  <script id="photo-grid" type="text/x-template">
    <div class="content" v-bind:session="session"> 
      <header class="bar bar-nav">
        <button v-on:click="goBack" class="btn btn-link btn-nav pull-left">
          <span class="icon icon-left-nav"></span>
          Home
        </button>
        <button class="btn btn-link btn-nav pull-right">
          <span class="icon icon-plus"></span>
          Add photos
        </button>
        <button class="btn btn-link btn-nav pull-right">
          <span class="icon icon-play"></span>
          Tag photos
        </button>
        <h1 class="title">Photos</h1>                        
      </header>
      
      <nav class="bar bar-standard bar-header-secondary">
        <div class="segmented-control">
          <a class="control-item active">Last imported</a>
          <a class="control-item">Timeline</a>
          <a class="control-item">Collaborator</a>
        </div>
      </nav>      
      
      <div class="content">
          <div class="grid">
            <div class="grid-item" v-for="photo in photos">
              <div class="tile">
                <img v-bind:src="photo.images.standard">
                <!--div class="tile-caption">
                photo.caption.text
                </div-->
                <div class="tile-meta content-padded">
                  <span class="pull-left">Tags:</span>
                  <span class="icon icon-person pull-right" 
                  v-bind:class="{ 'tag-false': photo.tags.people.length === 0 }"></span>
                  <span class="icon icon-stop pull-right"
                  v-bind:class="{ 'tag-false': photo.tags.date == '' }" 
                  ></span>
                  <span class="icon icon-info pull-right"
                  v-bind:class="{ 'tag-false': photo.tags.place == '' }"
                  ></span>
                </div>
              </div>
            </div>  
          </div>
      </div>
      
    </div>   
  </script>
  
  <script id="story-grid" type="text/x-template">
    <div class="content" v-bind:session="session"> 
      <header class="bar bar-nav">
        <router-link v-bind:to="{name : 'home'}" class="btn btn-link btn-nav pull-left">
          <span class="icon icon-left-nav"></span>
          Home
        </router-link>
        <button class="btn btn-link btn-nav pull-right">
          <span class="icon icon-plus"></span>
          Create story
        </button>
        <h1 class="title">Stories</h1>                        
      </header>
      
      <div class="content">
            <div class="grid stories">
              <div class="grid-item" v-for="story in stories">
                <!--[ tile -->
                <div class="tile">
                    <img v-bind:src="story.photo.images.standard">
                    <div class="tile-caption">
                      {{story.story}}
                    </div>
                    <div class="tile-meta content-padded">
                      <span class="pull-left">
                        <img class="tile-profile" v-bind:src="story.from.profile_picture">
                        
                      </span>
                      <span class="pull-right"> 
                      {{story.from.full_name}}<br>
                      {{ago(story.created_time)}}
                      </span>
                    </div>  
                </div>
                <!-- tile ]-->
              </div>  
            </div>
      </div>      
      
      
    </div>
  </script>  
  
  
  
<script src="js/swiper.min.js"></script>  
<script src="js/axios.min.js"></script>
<script src="js/vue.min.js"></script>
<script src="js/vue-router.min.js"></script>
<script src="js/moment.min.js"></script>

<script src="js/bundle.js"></script>

</body>

</html>
